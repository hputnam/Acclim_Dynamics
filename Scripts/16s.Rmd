---
title: "Untitled"
author: "16s.Rmd"
date: "6/10/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

### Load packages. 

```{r}
library(plyr)
library(dplyr)
```

# Creating metadata files 

Sample manifest creation based on Hollie's that she made prior.
```{r}
raw.files <- read.csv("16S_seq/filelist.csv", header=FALSE) %>% select(V2) %>% dplyr::rename("absolute-filepath" = V2)
raw.files$`sample.id` <- raw.files$`absolute-filepath`

raw.files$`sample.id` <- substr(raw.files$`sample.id`, 0, 6)

sample.manifest <- read.csv("16S_seq/HoloInt_sample-manifest.csv") %>% select(sample.id, direction)

sample.manifest <- full_join(raw.files, sample.manifest, by = "sample.id")
sample.manifest <- sample.manifest[, c(2, 1, 3)]

sample.manifest %>% write_csv(path = "16S_seq/ES-run/HoloInt_sample-manifest-ES.csv")
```

